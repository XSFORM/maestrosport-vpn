============================
MAESTROSPORT VPN - ПОЛНАЯ ИНСТРУКЦИЯ
============================

1. Установка Ubuntu 20.04 на VPS (OVH, Timeweb, Scaleway и т.д.)

2. Подключаемся к серверу:
   ssh root@IP_СЕРВЕРА

3. Обновляем систему:
   apt update && apt upgrade -y

4. Ставим wget и git (если нет):
   apt install wget git -y

5. Клонируем репозиторий и переходим в папку проекта:
   git clone https://github.com/XSFORM/maestrosport-vpn.git
   cd maestrosport-vpn

6. Запускаем установку OpenVPN XOR:
   chmod +x install_openvpn_xor.sh
   ./install_openvpn_xor.sh

   После установки добавить/удалить клиента:
   bash openvpn-install.sh
   если опция scramble xormask 5 не пропишется в конфиги автоматически
   пропишите вручную в server.conf и в client-template.txt 

7. Ставим Telegram-бота мониторинга:

   7.1. Установить Python и pip:
        apt install python3 python3-pip -y

   7.2. Установить зависимости:
        cd monitor_bot
        pip3 install -r requirements.txt
   7.3. прописываем свой токен и id 
        nano openvpn_monitor_bot.py

   7.4. Запустить бота:
        python3 openvpn_monitor_bot.py

   (Токен и id нужно прописать в openvpn_monitor_bot.py или через переменные окружения)

8. Готово!
   — Теперь /clients и /start показывают статус через Telegram.

9. (Опционально) Автозапуск бота:
   1) Systemd:
      sudo tee /etc/systemd/system/openvpn-monitor.service << 'EOF'
      [Unit]
      Description=OpenVPN Monitor Bot
      After=network.target

      [Service]
      ExecStart=/usr/bin/python3 /root/maestrosport-vpn/monitor_bot/openvpn_monitor_bot.py
      Restart=always
      User=root

      [Install]
      WantedBy=multi-user.target
      EOF
      sudo systemctl daemon-reload
      sudo systemctl enable openvpn-monitor
      sudo systemctl start openvpn-monitor

   2) Или через tmux/screen:
      tmux new -s vpnbot
      python3 openvpn_monitor_bot.py
      (Ctrl-B D — чтобы отсоединиться)

============================
Автор: XSFORM & MaestroSport VPN Team
============================
